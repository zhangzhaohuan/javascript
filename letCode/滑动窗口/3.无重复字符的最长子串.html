<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>无重复字符的最长子串</title>
  </head>
  <body>
    <script>
      /**
       * @param {string} s
       * @return {number}
       */

      //  方法一
      // var lengthOfLongestSubstring = function (s) {
      //   let maxlength = 0;
      //   const length = s.length;
      //   for (let i = 0; i < length; i++) {
      //     let code = s.charAt(i);
      //     const set = new Set();
      //     set.add(code);
      //     let currentLength = 1;
      //     currentLength > maxlength ? (maxlength = currentLength) : null;
      //     for (let j = i + 1; j < length; j++) {
      //       let nextCode = s.charAt(j);
      //       if (!set.has(nextCode)) {
      //         set.add(nextCode);
      //         currentLength++;
      //         currentLength > maxlength ? (maxlength = currentLength) : null;
      //       } else {
      //         break;
      //       }
      //     }
      //   }
      //   return maxlength;
      // };



      // 方法二 滑动窗口 map
      var lengthOfLongestSubstring = function (s) {
        if (s.length == 0) return 0;
        const map = new Map();
        let max = 0;
        let left = 0;
        let right = 0;
        for (; right < s.length; right++) {
          if(map.has(s.charAt(right))){
            left = Math.max(left,map.get(s.charAt(right))+1)
          }
          map.set(s.charAt(right),right);
          max = Math.max(max,right-left+1)
        }
        return max;
      };

      lengthOfLongestSubstring('abcdddaa')
    </script>
  </body>
</html>
